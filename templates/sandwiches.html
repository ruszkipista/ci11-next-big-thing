{% extends "base.html" %}
<!-- Google Cloud Platform https://console.cloud.google.com/ -->
{% block head %}
<title>Love Sandwiches</title>
{% endblock %}

{% block body %}
<div class="content">
    <h2>{{ page_subtitle }}</h2>
     {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul>
        {% for message in messages%}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

    <table>
        {% for row in data %}
        <tr>
        {% if loop.first %}
            <form action="{{ request_path }}" method="POST">
            {% for column in columns %}
            <th>{{ row[loop.index0] }}<br>
                <input type="number" name="{{column}}">
                {% if loop.last %}
                <button type="submit">Add</button>
                {% endif %}  
            </th>
            {% endfor %}
            </form>
        {% else %}
            {% for column in columns %}
            <td>{{ row[loop.index0] }}</td>
            {% endfor %}    
        {% endif %}                     
        </tr>
        {% endfor %}
    </table>
    
    <p>link to the <a href="https://docs.google.com/spreadsheets/d/1EIDdrNyBF9oxFSFNpzwZWBmyUAYmawToDBEO0wu5GmQ/" target="_blank">google sheets</a></p>
</div>
{% endblock %}